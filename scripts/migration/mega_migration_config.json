{
  "version": "2.0.0",
  "description": "AIchemist Codex Complete Restructuring Plan",
  "operations": [
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/core"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/fs"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/parsing"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/extraction"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/versioning"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/analysis"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/relations"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/tagging"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/ingest"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/output"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/utils"
    },
    {
      "type": "create_directory",
      "path": "src/the_aichemist_codex/config"
    },

    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/core/__init__.py",
      "content_template": "\"\"\"Core domain models and interfaces for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/fs/__init__.py",
      "content_template": "\"\"\"File system operations for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/parsing/__init__.py",
      "content_template": "\"\"\"Parsing operations for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/extraction/__init__.py",
      "content_template": "\"\"\"Content extraction for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/versioning/__init__.py",
      "content_template": "\"\"\"Version control for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/analysis/__init__.py",
      "content_template": "\"\"\"Analysis tools for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/relations/__init__.py",
      "content_template": "\"\"\"Relationship management for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/tagging/__init__.py",
      "content_template": "\"\"\"Tagging functionality for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/ingest/__init__.py",
      "content_template": "\"\"\"Content ingestion for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/output/__init__.py",
      "content_template": "\"\"\"Output formatting for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/utils/__init__.py",
      "content_template": "\"\"\"Utility functions for the AIchemist Codex.\"\"\"\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/config/__init__.py",
      "content_template": "\"\"\"Configuration management for the AIchemist Codex.\"\"\"\n"
    },

    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/core/models.py",
      "content_template": "\"\"\"Core domain models for the AIchemist Codex.\"\"\"\n\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom enum import Enum\nfrom pathlib import Path\nfrom typing import Dict, List, Optional, Union, Any\n\n# Core domain models\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/core/interfaces.py",
      "content_template": "\"\"\"Core interfaces for the AIchemist Codex.\"\"\"\n\nfrom abc import ABC, abstractmethod\nfrom typing import Any, Dict, List, Optional, Union\n\n# Core interfaces\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/core/exceptions.py",
      "content_template": "\"\"\"Custom exception types for the AIchemist Codex.\"\"\"\n\n# Custom exceptions\n"
    },
    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/core/constants.py",
      "content_template": "\"\"\"Shared constants and enums for the AIchemist Codex.\"\"\"\n\nfrom enum import Enum, auto\n\n# Shared constants and enums\n"
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/filesystem/file_metadata.py",
      "destination": "src/the_aichemist_codex/fs/file_metadata.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/file_metadata.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/filesystem/file_reader.py",
      "destination": "src/the_aichemist_codex/fs/file_reader.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/file_reader.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        },
        {
          "type": "replace_import",
          "old": "from .file_metadata",
          "new": "from the_aichemist_codex.fs.file_metadata"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/file_manager/change_detector.py",
      "destination": "src/the_aichemist_codex/fs/changes.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/changes.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/filesystem/manager/directory_manager.py",
      "destination": "src/the_aichemist_codex/fs/directory.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/directory.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/file_manager/file_watcher.py",
      "destination": "src/the_aichemist_codex/fs/watcher.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/watcher.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/file_manager/file_mover.py",
      "destination": "src/the_aichemist_codex/fs/operations.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/fs/operations.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/parsing/parsers.py",
      "destination": "src/the_aichemist_codex/parsing/parsers.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/parsing/parsers.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/parsing/ocr_parser.py",
      "destination": "src/the_aichemist_codex/parsing/ocr.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/parsing/ocr.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/metadata/code_extractor.py",
      "destination": "src/the_aichemist_codex/extraction/code.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/extraction/code.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/metadata/document_extractor.py",
      "destination": "src/the_aichemist_codex/extraction/documents.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/extraction/documents.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/extraction/manager.py",
      "content_template": "\"\"\"Extraction orchestration for the AIchemist Codex.\"\"\"\n\nfrom pathlib import Path\nfrom typing import Any, Dict, List, Optional\n\nfrom the_aichemist_codex.core.interfaces import ExtractorInterface\nfrom the_aichemist_codex.extraction.code import CodeExtractor\nfrom the_aichemist_codex.extraction.documents import DocumentExtractor\n\n# Extraction manager\n"
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/rollback/rollback_manager.py",
      "destination": "src/the_aichemist_codex/versioning/manager.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/versioning/manager.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/project_reader/code_summary.py",
      "destination": "src/the_aichemist_codex/analysis/code.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/analysis/code.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/relationships/detector.py",
      "destination": "src/the_aichemist_codex/relations/detector.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/relations/detector.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/relationships/graph.py",
      "destination": "src/the_aichemist_codex/relations/graph.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/relations/graph.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/tagging/manager.py",
      "destination": "src/the_aichemist_codex/tagging/manager.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/tagging/manager.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/tagging/classifier.py",
      "destination": "src/the_aichemist_codex/tagging/classifier.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/tagging/classifier.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/ingest/aggregator.py",
      "destination": "src/the_aichemist_codex/ingest/aggregator.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/ingest/aggregator.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/ingest/scanner.py",
      "destination": "src/the_aichemist_codex/ingest/scanner.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/ingest/scanner.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/output_formatter/json_writer.py",
      "destination": "src/the_aichemist_codex/output/json.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/output/json.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/output_formatter/markdown_writer.py",
      "destination": "src/the_aichemist_codex/output/markdown.py",
      "merge": false
    },
    {
      "type": "refactor",
      "path": "src/the_aichemist_codex/output/markdown.py",
      "operations": [
        {
          "type": "replace_import",
          "old": "from the_aichemist_codex.backend.core",
          "new": "from the_aichemist_codex.core"
        }
      ]
    },

    {
      "type": "create_file",
      "path": "src/the_aichemist_codex/main.py",
      "content_template": "\"\"\"Main entry point for the AIchemist Codex.\"\"\"\n\nimport sys\nfrom pathlib import Path\n\n# Register parent directory in sys.path\nsys.path.append(str(Path(__file__).resolve().parent.parent))\n\nfrom the_aichemist_codex.fs.file_reader import FileReader\nfrom the_aichemist_codex.ingest.scanner import DirectoryScanner\nfrom the_aichemist_codex.analysis.code import CodeAnalyzer\n\n\ndef main():\n    \"\"\"Main entry point.\"\"\"\n    # Integration with new architecture\n    pass\n\n\nif __name__ == \"__main__\":\n    main()\n"
    },

    {
      "type": "create_file",
      "path": "README.md",
      "content_template": "# The AIchemist Codex\n\nAn intelligent file management and analysis system with advanced content extraction capabilities.\n\n## New Architecture\n\nThe AIchemist Codex has been restructured to follow clean architecture principles with a clear separation of concerns:\n\n```plaintext\nsrc/the_aichemist_codex/\n├── core/              # Core domain models and interfaces\n├── fs/                # File system operations\n├── parsing/           # File content parsing\n├── extraction/        # Content extraction and metadata\n├── versioning/        # Version control\n├── analysis/          # Project analysis\n├── relations/         # Relationship management\n├── tagging/           # Tagging functionality\n├── ingest/            # Content ingestion\n├── output/            # Output formatting\n├── utils/             # Utility functions\n└── config/            # Configuration handling\n```\n\n## Getting Started\n\n### Installation\n\n```bash\npip install -e .\n```\n\n### Usage\n\n```python\nfrom the_aichemist_codex.fs.file_reader import FileReader\nfrom the_aichemist_codex.ingest.scanner import DirectoryScanner\n\n# Example usage\nreader = FileReader()\nscanner = DirectoryScanner()\n\n# Scan a directory\nresults = scanner.scan('path/to/directory')\n\n# Read files\nmetadata = reader.read_files(results)\n```\n\n## License\n\nProprietary\n"
    }
  ]
}
