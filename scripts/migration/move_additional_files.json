{
  "version": "1.0.0",
  "description": "AIchemist Codex Restructuring Plan - Additional File Migration",
  "operations": [
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/common",
      "destination": "src/the_aichemist_codex/core/utils/common",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/file_manager",
      "destination": "src/the_aichemist_codex/core/filesystem/manager",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/tagging",
      "destination": "src/the_aichemist_codex/core/tagging",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/search",
      "destination": "src/the_aichemist_codex/core/analysis/search",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/rollback",
      "destination": "src/the_aichemist_codex/core/versioning/rollback",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/relationships",
      "destination": "src/the_aichemist_codex/core/relations",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/project_reader",
      "destination": "src/the_aichemist_codex/core/ingest/project_reader",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/output_formatter",
      "destination": "src/the_aichemist_codex/core/output/formatter",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "move",
      "source": "src/the_aichemist_codex/backend/core/ingest",
      "destination": "src/the_aichemist_codex/core/ingest/processor",
      "refactor": [
        {
          "pattern": "from the_aichemist_codex.backend",
          "replacement": "from the_aichemist_codex"
        },
        {
          "pattern": "from the_aichemist_codex.backend.core.file_reader",
          "replacement": "from the_aichemist_codex.core.filesystem"
        }
      ]
    },
    {
      "type": "create_file",
      "path": "scripts/migration/ADDITIONAL_MIGRATION_README.md",
      "content_template": "# AIchemist Codex Additional File Migration\n\nThis document describes the second phase of file migration for the AIchemist Codex codebase restructuring, which focuses on moving additional directories not covered in the initial migration.\n\n## Process Overview\n\n1. Execute the `move_additional_files.json` configuration with the `codebase_restructure.py` script to migrate remaining directories and files.\n2. This continues our approach of preserving existing code by moving files rather than creating duplicates.\n\n## Migration Commands\n\n```bash\n# Run a dry-run to verify the file migrations before applying\npython scripts/migration/codebase_restructure.py --config scripts/migration/move_additional_files.json --dry-run\n\n# Execute the file migrations\npython scripts/migration/codebase_restructure.py --config scripts/migration/move_additional_files.json\n```\n\n## Structure Overview\n\nThis migration moves the following directories:\n\n- `backend/core/common` → `core/utils/common`\n- `backend/core/file_manager` → `core/filesystem/manager`\n- `backend/core/tagging` → `core/tagging`\n- `backend/core/search` → `core/analysis/search`\n- `backend/core/rollback` → `core/versioning/rollback`\n- `backend/core/relationships` → `core/relations`\n- `backend/core/project_reader` → `core/ingest/project_reader`\n- `backend/core/output_formatter` → `core/output/formatter`\n- `backend/core/ingest` → `core/ingest/processor`\n\n## Next Steps\n\n1. Test the codebase after migration to ensure functionality is maintained\n2. Update remaining import references in other parts of the codebase\n3. Consider removing the backend directory structure if it's no longer needed\n"
    }
  ]
}
